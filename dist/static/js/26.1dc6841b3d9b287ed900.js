webpackJsonp([26],{yAvz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("0RrJ");var o=a("9K/l"),l={data:function(){return{tableData:[],addDialogForm:!1,formLabelWidth:"80px",form:{roleName:"",roleDesc:""},updateDialogForm:!1,updateForm:{id:"",nowRoleName:"",nowRoleDesc:""}}},mounted:function(){this.getRole()},methods:{getRole:function(){var e=this;Object(o.b)("arole/index/index","").then(function(t){e.tableData=t.data.data}).catch(function(e){})},addRole:function(){var e=this;if(this.form.roleName)if(this.form.roleDesc){var t={roleName:this.form.roleName,roleDesc:this.form.roleDesc};Object(o.b)("arole/index/add",t).then(function(t){1==t.data.code?(e.$message.success(t.data.msg),e.tableData=t.data.data,e.addDialogForm=!1):e.$message.error(t.data.msg)}).catch(function(e){})}else this.$message.error("请输入角色描述");else this.$message.error("请输入角色名称")},handleEdit:function(e,t){this.updateDialogForm=!0,this.updateForm.id=t.id,this.updateForm.nowRoleName=t.role_name,this.updateForm.nowRoleDesc=t.desc},updateRole:function(){var e=this;if(this.updateForm.nowRoleName)if(this.updateForm.nowRoleDesc){var t={id:this.updateForm.id,role_name:this.updateForm.nowRoleName,desc:this.updateForm.nowRoleDesc};Object(o.b)("arole/index/update",t).then(function(t){1==t.data.code?(e.$message.success(t.data.msg),e.tableData=t.data.data,e.updateDialogForm=!1):e.$message.error(t.data.msg)}).catch(function(e){})}else this.$message.error("请输入角色描述");else this.$message.error("请输入角色名称")},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteRole(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},deleteRole:function(e){var t=this,a={id:e.id,role_name:e.role_name,desc:e.desc};Object(o.b)("arole/index/delete",a).then(function(e){1==e.data.code?(t.$message.success(e.data.msg),t.tableData=e.data.data):t.$message.error(e.data.msg)}).catch(function(e){})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogForm=!0}}},[e._v("添加")])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加角色",visible:e.addDialogForm},on:{"update:visible":function(t){e.addDialogForm=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入10个字符以内的角色名字，支持中英文数字",maxlength:"10",onkeyup:"value=value.replace(/[^\\w\\u4E00-\\u9FA5]/g, '')"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入20个字符以内的角色描述，支持中英文数字",maxlength:"20",onkeyup:"value=value.replace(/[^\\w\\u4E00-\\u9FA5]/g, '')"},model:{value:e.form.roleDesc,callback:function(t){e.$set(e.form,"roleDesc",t)},expression:"form.roleDesc"}},[e._v("角色描述")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogForm=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addRole}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑角色",visible:e.updateDialogForm},on:{"update:visible":function(t){e.updateDialogForm=t}}},[a("el-form",{attrs:{model:e.updateForm}},[a("el-form-item",{attrs:{label:"角色ID","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"ID",disabled:"disabled"},model:{value:e.updateForm.id,callback:function(t){e.$set(e.updateForm,"id",t)},expression:"updateForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入10个字以内的中文角色名字",maxlength:"10"},model:{value:e.updateForm.nowRoleName,callback:function(t){e.$set(e.updateForm,"nowRoleName",t)},expression:"updateForm.nowRoleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入20个字以内的中文角色描述，支持中英文数字",maxlength:"20",onkeyup:"value=value.replace(/[^\\w\\u4E00-\\u9FA5]/g, '')"},model:{value:e.updateForm.nowRoleDesc,callback:function(t){e.$set(e.updateForm,"nowRoleDesc",t)},expression:"updateForm.nowRoleDesc"}},[e._v("角色描述")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.updateDialogForm=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updateRole}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"role_name",label:"角色名字",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"角色描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},staticRenderFns:[]},i=a("VU/8")(l,r,!1,null,null,null);t.default=i.exports}});
//# sourceMappingURL=26.1dc6841b3d9b287ed900.js.map