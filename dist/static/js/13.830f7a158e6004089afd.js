webpackJsonp([13],{WHQY:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"StaffManage",data:function(){return{selectInfo:"",select:"",staffArr:[],addDialogForm:!1,form:{name:"",account:"",password:"",tel:"",headImg:"",roleList:"",roleArr:[{name:"管理员",value:"first"},{name:"超级管理员",value:"second"},{name:"客服",value:"third"}],radio:"1",delivery:!1},formLabelWidth:"120px",options:[{value:"选项1",label:"账号"},{value:"选项2",label:"昵称"},{value:"选项3",label:"手机号"},{value:"选项4",label:"职位"}],value:"",pageObj:{nowPage:1,allPage:1,total:10}}},mounted:function(){},methods:{uploadImg:function(e,t){this.form.headImg=URL.createObjectURL(t.raw)},getRoleArr:function(){var e=this;this.axios.post("http://localhost/th5/public/admin/Staff/getRoleArr",{}).then(function(t){console.log(t),1e3==t.data.code?e.form.roleArr=t.data.roleArr:alert(t.data.msg)}).catch(function(e){console.log(e)})},setStaff:function(){console.log(1)},editState:function(e,t){console.log(e)},showCom:function(){$(".acc_commit").show()},beforeUploadImg:function(e){var t="image/jpeg"===e.type,l=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),l||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&l}}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"contanir"}},[l("el-row",{staticClass:"row-bg",attrs:{type:"flex",push:"3"}},[l("el-col",{attrs:{span:3}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogForm=!0}}},[e._v("添加员工")])],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.selectInfo,callback:function(t){e.selectInfo=t},expression:"selectInfo"}}),e._v(" "),l("el-button",{attrs:{icon:"el-icon-search"}})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"员工信息录入",visible:e.addDialogForm},on:{"update:visible":function(t){e.addDialogForm=t}}},[l("el-form",{attrs:{model:e.form}},[l("el-form-item",{attrs:{label:"员工账号","label-width":e.formLabelWidth}},[l("el-input",{attrs:{placeholder:"请输入账号"},on:{focus:e.showCom},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}}),e._v(" "),l("span",{staticClass:"commit acc_commit"},[e._v("账号规则：6~10位字符，支持英文、数字和下划线")])],1),e._v(" "),l("el-form-item",{attrs:{label:"员工密码","label-width":e.formLabelWidth}},[l("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),l("span",{staticClass:"commit psw_commit"},[e._v("密码规则：6~30位字符，支持英文、数字、下划线及常用符号")])],1),e._v(" "),l("el-form-item",{attrs:{label:"昵称","label-width":e.formLabelWidth}},[l("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),l("span",{staticClass:"commit name_commit"},[e._v("昵称规则：3~6位字符，支持中、英文，数字和下划线")])],1),e._v(" "),l("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth}},[l("el-input",{attrs:{type:"text",placeholder:"请输入手机号",maxlength:"11","show-word-limit":""},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}}),e._v(" "),l("span",{staticClass:"commit tel_commit"},[e._v("手机号规则：11位数字，134/152/158/188/138开头")])],1),e._v(" "),l("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth}},[l("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost/th5/public/index.php/index/index/loadImg","show-file-list":!1,"on-success":e.uploadImg,"before-upload":e.beforeUploadImg}},[e.form.headImg?l("img",{staticClass:"avatar",attrs:{src:e.form.headImg}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),l("el-form-item",{attrs:{label:"员工职位","label-width":e.formLabelWidth}},[l("el-select",{attrs:{placeholder:"请选择员工职位"},on:{focus:e.getRoleArr},model:{value:e.form.roleList,callback:function(t){e.$set(e.form,"roleList",t)},expression:"form.roleList"}},e._l(e.form.roleArr,function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[l("el-radio",{attrs:{label:"1"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("男")]),e._v(" "),l("el-radio",{attrs:{label:"2"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("女")])],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.addDialogForm=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogForm=!1}}},[e._v("确 定")])],1)],1),e._v(" "),l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.staffArr,"tooltip-effect":"dark"},on:{"current-change":e.setStaff}},[l("el-table-column",{attrs:{align:"center",type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"id",label:"ID"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.account))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"头像"},scopedSlots:e._u([e._l(e.staffArr,function(e,t){return{key:"default",fn:function(a){return[l("el-image",{key:t,staticStyle:{width:"80px","border-radius":"50%"},attrs:{src:e.head_img}})]}}})],null,!0)}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"手机号",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.phone))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"职位"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.role_id))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.sex))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.state?l("span",[e._v("解锁")]):2==t.row.state?l("span",[e._v("锁定")]):e._e()]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.state?l("el-button",{attrs:{type:"warning",icon:"el-icon-lock",circle:""},on:{click:function(l){return e.editState(t.row.id,t.row)}}}):2==t.row.state?l("el-button",{attrs:{type:"primary",icon:"el-icon-unlock",circle:""},on:{click:function(l){return e.editState(t.row.id,t.row.state,t.row)}}}):e._e(),e._v(" "),l("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""}}),e._v(" "),l("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""}})]}}])})],1),e._v(" "),l("el-pagination",{staticStyle:{"text-align":"center"},attrs:{background:"",layout:"prev, pager, next",total:e.pageObj.total}})],1)},staticRenderFns:[]};var r=l("VU/8")(a,o,!1,function(e){l("X9nB")},"data-v-322decd0",null);t.default=r.exports},X9nB:function(e,t){}});
//# sourceMappingURL=13.830f7a158e6004089afd.js.map