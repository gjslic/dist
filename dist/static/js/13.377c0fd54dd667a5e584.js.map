{"version":3,"sources":["webpack:///src/components/admin/Home.vue","webpack:///./src/components/admin/Home.vue?765d","webpack:///./src/components/admin/Home.vue"],"names":["Home","name","components","data","staffAcc","rid","menuData","created","this","getKoken","methods","getMenu","_this","Object","home","then","res","code","menuID","menu_id","split","newArr","i","length","j","menu","id","push","$message","message","msg","catch","err","console","log","loginOut","_this2","$confirm","confirmButtonText","cancelButtonText","type","token","JSON","parse","localStorage","getItem","request","method","url","headers","Access-Token","success","$router","replace","_this3","userMsg","role_id","admin_Home","render","_vm","_h","$createElement","_c","_self","staticStyle","height","color","float","font-size","_v","staticClass","on","click","margin-right","_s","attrs","slot","to","border","background-color","width","_l","item","key","router","default-active","$route","path","fid","child","index","menu_url","class","menu_class","menu_name","val","n","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.377c0fd54dd667a5e584.js","sourcesContent":["// 后台主页\r\n<template>\r\n  <el-container style=\"height: 100vh;\">\r\n    <el-header style=\"color: #fff\">\r\n      <span style=\"float: left; font-size: 24px;\">Peanut后台管理系统</span>\r\n      <div style=\"float: right\">\r\n        <i class=\"el-icon-switch-button layOut\" @click=\"loginOut\"></i>\r\n        <el-dropdown>\r\n          <span style=\"margin-right: 15px; color: #fff; font-size: 16px;\">{{staffAcc}}</span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <router-link to=\"/AdminInfo\">\r\n              <el-dropdown-item>个人中心</el-dropdown-item>\r\n            </router-link>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </div>\r\n    </el-header>\r\n    <el-container style=\"height: 500px; border: 1px solid #eee\">\r\n      <el-aside width=\"200px\" style=\"background-color: rgb(238, 241, 246)\">\r\n        <el-menu v-for=\"(item,i) in menuData\" :key=\"i\" router :default-active=\"$route.path\">\r\n          <el-menu-item :index=\"item.menu_url\" v-if=\"item.fid == 0 && item.child == 0\">\r\n            <i :class=\"item.menu_class\"></i>\r\n            <span slot=\"title\">{{item.menu_name}}</span>\r\n          </el-menu-item>\r\n\r\n          <el-submenu index=\"1\" v-else-if=\"item.fid == 0 && item.child == 1\">\r\n            <template slot=\"title\">\r\n              <i :class=\"item.menu_class\"></i>\r\n              <span>{{item.menu_name}}</span>\r\n            </template>\r\n            <div v-for=\"(val,n) in menuData\" :key=\"n\">\r\n              <el-menu-item-group v-if=\"val.fid == item.id\">\r\n                <el-menu-item :index=\"val.menu_url\">{{val.menu_name}}</el-menu-item>\r\n              </el-menu-item-group>\r\n            </div>\r\n          </el-submenu>\r\n        </el-menu>\r\n      </el-aside>\r\n      <el-container>\r\n        <el-main>\r\n          <router-view />\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n    <el-footer class=\"foot-style\">© Peanut - 所有权归花生</el-footer>\r\n  </el-container>\r\n</template>\r\n\r\n<style>\r\n.el-header {\r\n  background-color: #b3c0d1;\r\n  color: #333;\r\n  line-height: 60px;\r\n}\r\n.el-container .el-submenu__title:hover {\r\n  background-color: #b3c0d1;\r\n}\r\n.el-container .el-menu {\r\n  background-color: none;\r\n}\r\n.el-aside {\r\n  color: #333;\r\n}\r\n.foot-style {\r\n  color: #b3c0d1;\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n.layOut {\r\n  margin-right: 15px;\r\n  color: #fff;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { request } from \"../../network/request\"; //引入axios请求\r\nimport { getData, sendParam } from \"../../network/home\";\r\nexport default {\r\n  name: \"Home\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      staffAcc: \"\",\r\n      rid: \"\",\r\n      menuData: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getKoken();\r\n  },\r\n  methods: {\r\n    // -------------网络请求--------\r\n    getMenu() {\r\n      let url = \"/info/Center/getMenu\";\r\n      let data = {\r\n        rid: this.rid\r\n      };\r\n      sendParam(url, data)\r\n        .then(res => {\r\n          if (res.data.code == 1) {\r\n            let mid = res.data.data[0].menu_id;\r\n\r\n            var menuID = mid.split(\",\");\r\n            var newArr = [];\r\n            for (var i = 0; i < menuID.length; i++) {\r\n              for (var j = 0; j < res.data.menu.length; j++) {\r\n                if (menuID[i] == res.data.menu[j].id) {\r\n                  newArr.push(res.data.menu[j]);\r\n                }\r\n              }\r\n            }\r\n            this.menuData = newArr;\r\n          } else {\r\n            this.$message({ message: res.data.data.msg });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    // 后台登出\r\n    loginOut() {\r\n      this.$confirm(\"此操作将退出后台登录, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          let token = JSON.parse(localStorage.getItem(\"token\"));\r\n          let url = \"alogin/index/delToken\";\r\n          request({\r\n            method: \"post\",\r\n            url: url,\r\n            headers: {\r\n              \"Access-Token\": token\r\n            }\r\n          })\r\n            .then(res => {\r\n              if (res.data.code == 1) {\r\n                this.$message.success({ message: res.data.msg });\r\n                this.$router.replace(\"/AdminLogin\");\r\n              } else {\r\n                this.$message({ message: \"退出失败\" });\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消\"\r\n          });\r\n        });\r\n    },\r\n    // 获取token\r\n    getKoken() {\r\n      let token = JSON.parse(localStorage.getItem(\"token\"));\r\n      let url = \"alogin/index/validateToken\";\r\n      request({\r\n        method: \"post\",\r\n        url: url,\r\n        headers: {\r\n          \"Access-Token\": token\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (res.data.code == 1) {\r\n            let userMsg = JSON.parse(res.data.data);\r\n            this.staffAcc = userMsg[0].name;\r\n            this.rid = userMsg[0].role_id;\r\n            this.getMenu();\r\n          } else {\r\n            this.$message({ message: \"请先登录\" });\r\n            this.$router.push(\"/AdminLogin\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/admin/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticStyle:{\"height\":\"100vh\"}},[_c('el-header',{staticStyle:{\"color\":\"#fff\"}},[_c('span',{staticStyle:{\"float\":\"left\",\"font-size\":\"24px\"}},[_vm._v(\"Peanut后台管理系统\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('i',{staticClass:\"el-icon-switch-button layOut\",on:{\"click\":_vm.loginOut}}),_vm._v(\" \"),_c('el-dropdown',[_c('span',{staticStyle:{\"margin-right\":\"15px\",\"color\":\"#fff\",\"font-size\":\"16px\"}},[_vm._v(_vm._s(_vm.staffAcc))]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('router-link',{attrs:{\"to\":\"/AdminInfo\"}},[_c('el-dropdown-item',[_vm._v(\"个人中心\")])],1)],1)],1)],1)]),_vm._v(\" \"),_c('el-container',{staticStyle:{\"height\":\"500px\",\"border\":\"1px solid #eee\"}},[_c('el-aside',{staticStyle:{\"background-color\":\"rgb(238, 241, 246)\"},attrs:{\"width\":\"200px\"}},_vm._l((_vm.menuData),function(item,i){return _c('el-menu',{key:i,attrs:{\"router\":\"\",\"default-active\":_vm.$route.path}},[(item.fid == 0 && item.child == 0)?_c('el-menu-item',{attrs:{\"index\":item.menu_url}},[_c('i',{class:item.menu_class}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.menu_name))])]):(item.fid == 0 && item.child == 1)?_c('el-submenu',{attrs:{\"index\":\"1\"}},[_c('template',{slot:\"title\"},[_c('i',{class:item.menu_class}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.menu_name))])]),_vm._v(\" \"),_vm._l((_vm.menuData),function(val,n){return _c('div',{key:n},[(val.fid == item.id)?_c('el-menu-item-group',[_c('el-menu-item',{attrs:{\"index\":val.menu_url}},[_vm._v(_vm._s(val.menu_name))])],1):_vm._e()],1)})],2):_vm._e()],1)}),1),_vm._v(\" \"),_c('el-container',[_c('el-main',[_c('router-view')],1)],1)],1),_vm._v(\" \"),_c('el-footer',{staticClass:\"foot-style\"},[_vm._v(\"© Peanut - 所有权归花生\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ff1b6f3a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ff1b6f3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ff1b6f3a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/Home.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}