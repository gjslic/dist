{"version":3,"sources":["webpack:///src/components/admin/OldGoods.vue","webpack:///./src/components/admin/OldGoods.vue?b735","webpack:///./src/components/admin/OldGoods.vue"],"names":["OldGoods","name","data","input3","select","oldCar","currentPage","pagesize","created","this","getData","methods","open2","msg","$message","message","type","open4","error","_this","Object","home","then","res","code","catch","err","console","log","handleSizeChange","size","handleCurrentChange","handleOut","index","row","_this2","id","vehicle_id","$confirm","confirmButtonText","cancelButtonText","handleDelete","_this3","i","splice","sortByPurchase","obj1","obj2","price","filterTag","value","vehicle_state","clearFilter","$refs","filterTable","getColor","state","filterChange","filterObj","_this4","length","handleSearch","_this5","keyword","condition","admin_OldGoods","render","_vm","_h","$createElement","_c","_self","staticStyle","margin","staticClass","attrs","placeholder","model","callback","$$v","expression","slot","label","_v","icon","on","click","width","border","slice","default-sort","prop","order","filter-change","scopedSlots","_u","key","fn","scope","_s","trigger","placement","introduce","vehicle_time","vehicle_name","brand_name","series_name","sortable","sort-method","height","src","img","filters","text","align","column-key","filter-method","filter-placement","filter-multiple","disable-transitions","phone","acc","disabled","$event","$index","current-page","page-size","page-sizes","layout","total","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.01b280625a61caf1e15b.js","sourcesContent":["// 商品管理\r\n<template>\r\n  <div>\r\n    <div style=\"margin: 15px 0;\">\r\n      <el-input placeholder=\"请输入内容\" v-model=\"input3\" class=\"input-with-select\">\r\n        <el-select v-model=\"select\" slot=\"prepend\" placeholder=\"请选择\">\r\n          <el-option label=\"车辆名称\" value=\"vehicle_name\"></el-option>\r\n          <el-option label=\"品牌\" value=\"brand_name\"></el-option>\r\n        </el-select>\r\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"handleSearch\"></el-button>\r\n      </el-input>\r\n    </div>\r\n    <el-table\r\n      border\r\n      :data=\"oldCar.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\r\n      style=\"width: 100%\"\r\n      :default-sort=\"{prop: 'price', order: 'descending'}\"\r\n      @filter-change=\"filterChange\"\r\n    >\r\n      <el-table-column label=\"ID\" width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.vehicle_id }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"车辆名称\" width=\"250\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover trigger=\"hover\" placement=\"top\">\r\n            <p>介绍: {{ scope.row.introduce }}</p>\r\n            <p>上架时间: {{ scope.row.vehicle_time }}</p>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.vehicle_name }}</el-tag>\r\n            </div>\r\n          </el-popover>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"品牌\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.brand_name}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"系列\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.series_name}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"价格\" sortable :sort-method=\"sortByPurchase\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.price}} 万</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"图片\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.img\" style=\"width: 60px; height: 50px\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"状态\"\r\n        :filters=\"[{ text: '已上架', value: '已上架' }, { text: '已下架', value: '已下架' }]\"\r\n        prop=\"vehicle_state\"\r\n        align=\"center\"\r\n        column-key=\"vehicle_state\"\r\n        :filter-method=\"filterTag\"\r\n        filter-placement=\"bottom-end\"\r\n        :filter-multiple=\"false\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-tag\r\n            :type=\"getColor(scope.row.vehicle_state)\"\r\n            disable-transitions\r\n          >{{scope.row.vehicle_state}}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"卖家名称\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover trigger=\"hover\" placement=\"top\">\r\n            <p>手机号: {{ scope.row.phone }}</p>\r\n            <p>账号: {{ scope.row.acc }}</p>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.name }}</el-tag>\r\n            </div>\r\n          </el-popover>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"160\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            :disabled=\"scope.row.vehicle_state === '已下架'\"\r\n            @click=\"handleOut(scope.$index, scope.row)\"\r\n          >下架</el-button>\r\n          <el-button size=\"mini\" type=\"warning\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"block\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pagesize\"\r\n        :page-sizes=\"[4, 8, 16, 32]\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"oldCar.length\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style>\r\n.el-select .el-input {\r\n  width: 130px;\r\n}\r\n.input-with-select .el-input-group__prepend {\r\n  background-color: #fff;\r\n}\r\n.block {\r\n  margin: 10px 0;\r\n}\r\n</style>\r\n<script>\r\n// 引入网络请求模块\r\nimport { getData, sendParam } from \"../../network/home\";\r\nexport default {\r\n  name: \"Goods\",\r\n  data() {\r\n    return {\r\n      input3: \"\",\r\n      select: \"vehicle_name\",\r\n      oldCar: [],\r\n      currentPage: 1, //初始页\r\n      pagesize: 4 //    每页的数据\r\n    };\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    // -----------消息提示----------\r\n    open2(msg) {\r\n      this.$message({\r\n        message: msg,\r\n        type: \"success\"\r\n      });\r\n    },\r\n\r\n    open4(msg) {\r\n      this.$message.error(msg);\r\n    },\r\n    // ---------网络请求------------\r\n    getData() {\r\n      let url = \"/goods/index/get\";\r\n      getData(url)\r\n        .then(res => {\r\n          if (res.data.code == 1) {\r\n            this.oldCar = res.data.data;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    // ----------数据操作----------\r\n    // 初始页currentPage、初始每页数据数pagesize和数据data\r\n    handleSizeChange: function(size) {\r\n      this.pagesize = size; //每页下拉显示数据\r\n    },\r\n    handleCurrentChange(currentPage) {\r\n      this.currentPage = currentPage; //点击第几页\r\n    },\r\n    // 下架\r\n    handleOut(index, row) {\r\n      let id = row.vehicle_id;\r\n      let url = \"/goods/index/out\";\r\n      let data = {\r\n        id\r\n      };\r\n      this.$confirm(\"此操作将下架商品, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          sendParam(url, data)\r\n            .then(res => {\r\n              if (res.data.code == 1) {\r\n                this.oldCar = res.data.data;\r\n\r\n                this.open2(res.data.msg);\r\n              } else {\r\n                this.open4(res.data.msg);\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消修改\"\r\n          });\r\n        });\r\n    },\r\n    // 删除\r\n    handleDelete(index, row) {\r\n      console.log(index, row);\r\n      let id = row.vehicle_id;\r\n      let url = \"/goods/index/del\";\r\n      let data = {\r\n        id\r\n      };\r\n      this.$confirm(\"此操作将永久删除该商品, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          sendParam(url, data)\r\n            .then(res => {\r\n              if (res.data.code == 1) {\r\n                // this.oldCar = res.data.data;\r\n                for (let i in this.oldCar) {\r\n                  if (this.oldCar[i].vehicle_id === id) {\r\n                    this.oldCar.splice(i, 1);\r\n                  }\r\n                }\r\n                // this.oldCar.splice(index,1);\r\n                this.open2(res.data.msg);\r\n              } else {\r\n                this.open4(res.data.msg);\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    //根据价格排序\r\n    sortByPurchase(obj1, obj2) {\r\n      var a = obj1.price;\r\n      var b = obj2.price;\r\n      return a - b;\r\n    },\r\n    // 状态打印\r\n    filterTag(value, row) {\r\n      return row.vehicle_state === value;\r\n    },\r\n    // 清除过滤器\r\n    clearFilter() {\r\n      this.$refs.filterTable.clearFilter();\r\n    },\r\n    // 状态颜色\r\n    getColor(state) {\r\n      if (state === \"已上架\") {\r\n        return \"primary\";\r\n      } else {\r\n        return \"success\";\r\n      }\r\n    },\r\n    // 过滤状态\r\n    filterChange(filterObj) {\r\n      if (filterObj.vehicle_state.length > 0) {\r\n        let url = \"/goods/index/stateClass\";\r\n        let data = {\r\n          state: filterObj.vehicle_state[0]\r\n        };\r\n        sendParam(url, data)\r\n          .then(res => {\r\n            if (res.data.code == 1) {\r\n              this.oldCar = res.data.data;\r\n            } else {\r\n              this.open4(res.data.msg);\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        this.getData();\r\n      }\r\n    },\r\n    // 搜索\r\n    handleSearch() {\r\n      let url = \"/goods/index/search\";\r\n      let data = {\r\n        keyword: this.input3,\r\n        condition: this.select\r\n      };\r\n      sendParam(url, data)\r\n        .then(res => {\r\n          if (res.data.code == 1) {\r\n            this.oldCar = res.data.data;\r\n          } else {\r\n            this.open4(res.data.msg);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/OldGoods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin\":\"15px 0\"}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.input3),callback:function ($$v) {_vm.input3=$$v},expression:\"input3\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select),callback:function ($$v) {_vm.select=$$v},expression:\"select\"}},[_c('el-option',{attrs:{\"label\":\"车辆名称\",\"value\":\"vehicle_name\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"品牌\",\"value\":\"brand_name\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleSearch},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.oldCar.slice((_vm.currentPage-1)*_vm.pagesize,_vm.currentPage*_vm.pagesize),\"default-sort\":{prop: 'price', order: 'descending'}},on:{\"filter-change\":_vm.filterChange}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.vehicle_id))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"车辆名称\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"trigger\":\"hover\",\"placement\":\"top\"}},[_c('p',[_vm._v(\"介绍: \"+_vm._s(scope.row.introduce))]),_vm._v(\" \"),_c('p',[_vm._v(\"上架时间: \"+_vm._s(scope.row.vehicle_time))]),_vm._v(\" \"),_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(scope.row.vehicle_name))])],1)])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"品牌\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.brand_name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"系列\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.series_name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"价格\",\"sortable\":\"\",\"sort-method\":_vm.sortByPurchase},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.price)+\" 万\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"图片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"60px\",\"height\":\"50px\"},attrs:{\"src\":scope.row.img}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"filters\":[{ text: '已上架', value: '已上架' }, { text: '已下架', value: '已下架' }],\"prop\":\"vehicle_state\",\"align\":\"center\",\"column-key\":\"vehicle_state\",\"filter-method\":_vm.filterTag,\"filter-placement\":\"bottom-end\",\"filter-multiple\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm.getColor(scope.row.vehicle_state),\"disable-transitions\":\"\"}},[_vm._v(_vm._s(scope.row.vehicle_state))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"卖家名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"trigger\":\"hover\",\"placement\":\"top\"}},[_c('p',[_vm._v(\"手机号: \"+_vm._s(scope.row.phone))]),_vm._v(\" \"),_c('p',[_vm._v(\"账号: \"+_vm._s(scope.row.acc))]),_vm._v(\" \"),_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(scope.row.name))])],1)])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"disabled\":scope.row.vehicle_state === '已下架'},on:{\"click\":function($event){return _vm.handleOut(scope.$index, scope.row)}}},[_vm._v(\"下架\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pagesize,\"page-sizes\":[4, 8, 16, 32],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.oldCar.length},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-100b1493\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/OldGoods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-100b1493\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OldGoods.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OldGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OldGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-100b1493\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OldGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/OldGoods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}