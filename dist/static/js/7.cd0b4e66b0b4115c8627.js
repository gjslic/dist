webpackJsonp([7],{Xr6q:function(e,t){},y8QJ:function(e,t){},yA5z:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("9K/l"),s=/^1[3456789]\d{9}$/,i=/^\d{11}$/,n=/^[0-9a-zA-Z]{10,18}$/,l={name:"Login",components:{AddCode:function(){return o.e(31).then(o.bind(null,"dIA/"))}},data:function(){return{fits:["fill"],url:"https://www.mercedes-benz.com.cn/content/dam/mb-cn/vehicles/amg/amg-s63-s65/new0904-amg-s-front-pc.jpg",identifyCodes:"0123456789qwertyuiopasdfghjklzxcvbnm",identifyCode:"",ruleForm:{Loginphone:"",LoginAccount:"",LoginPassword:"",code:""},rules:{Loginphone:[{validator:function(e,t,o){""===t?o(new Error("请输入手机号")):null==t.match(s)&&o(new Error("请输入正确的手机号"))},trigger:"blur"}],LoginAccount:[{validator:function(e,t,o){""===t&&o(new Error("请输入登录账号"))},trigger:"blur"}],LoginPassword:[{validator:function(e,t,o){""===t&&o(new Error("请输入登录密码"))},trigger:"blur"}],code:[{validator:function(e,t,o){""===t&&o(new Error("请输入登录验证码"))},trigger:"blur"}]}}},mounted:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},methods:{login:function(){var e=this;if(""==this.ruleForm.Loginphone||""==this.ruleForm.LoginAccount||""==this.ruleForm.LoginPassword)this.$message.error({message:"未输入登录内容",center:!0});else if(""==this.ruleForm.code)this.$message.error({message:"未输入验证码",center:!0});else if(null==this.ruleForm.Loginphone.match(s)||null==this.ruleForm.LoginAccount.match(i)||null==this.ruleForm.LoginPassword.match(n))this.$message({message:"登录内容格式错误",type:"warning",center:!0});else if(this.identifyCode!=this.ruleForm.code)this.$message({message:"验证码不正确",type:"warning",center:!0});else{var t={acc:this.ruleForm.LoginAccount,phone:this.ruleForm.Loginphone,password:this.ruleForm.LoginPassword};Object(r.b)("/login/Login/login",t).then(function(t){1==t.data.code?(localStorage.setItem("tokenVue",t.data.data.token),e.$router.push("/"),e.$message({message:t.data.msg,type:"success",center:!0}),e.$router.push("/")):e.$message({message:t.data.msg,type:"warning",center:!0})}).catch(function(e){console.log(e)})}},submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(e){this.$refs[e].resetFields()},randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(e,t){for(var o=0;o<t;o++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"Login"}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[o("el-row",{staticClass:"margin_bottom_20"},[o("el-col",{attrs:{span:24}},[o("div",{staticClass:"grid-content bg-purple-dark"},[o("div",{staticClass:"demo-image"},e._l(e.fits,function(t){return o("div",{key:t,staticClass:"block"},[o("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.url,fit:t}})],1)}),0)])])],1),e._v(" "),o("el-row",{staticClass:"margin_bottom_20",attrs:{gutter:20}},[o("el-col",{staticStyle:{"text-align":"center"},attrs:{span:18,offset:3}},[o("el-link",{attrs:{type:"primary",underline:!1}},[o("i",{staticClass:"el-icon-s-promotion font_size_30"}),o("span",{staticClass:"font_size_30"},[e._v("花生二手车用户登录")])])],1)],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("div",{staticClass:"grid-content bg-purple"},[o("el-form-item",{attrs:{prop:"LoginAccount"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入账号",maxlength:"11","show-word-limit":"",onkeyup:"this.value=this.value.replace(/\\D/g,'')"},model:{value:e.ruleForm.LoginAccount,callback:function(t){e.$set(e.ruleForm,"LoginAccount",t)},expression:"ruleForm.LoginAccount"}},[o("i",{staticClass:"el-input__icon el-icon-key",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)])],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("div",{staticClass:"grid-content bg-purple"},[o("el-form-item",{attrs:{prop:"Loginphone"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入手机号",maxlength:"11","show-word-limit":"",onkeyup:"this.value=this.value.replace(/\\D/g,'')"},model:{value:e.ruleForm.Loginphone,callback:function(t){e.$set(e.ruleForm,"Loginphone",t)},expression:"ruleForm.Loginphone"}},[o("i",{staticClass:"el-input__icon el-icon-phone-outline",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)])],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("el-form-item",{attrs:{prop:"LoginPassword"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码",autocomplete:"off","show-password":"",onKeyUp:"value=value.replace(/[\\W]/g,'')"},model:{value:e.ruleForm.LoginPassword,callback:function(t){e.$set(e.ruleForm,"LoginPassword",t)},expression:"ruleForm.LoginPassword"}},[o("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:10,offset:3}},[o("div",{staticClass:"grid-content bg-purple"},[o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入验证码",maxlength:"4","show-word-limit":"",onKeyUp:"value=value.replace(/[\\W]/g,'')"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}},[o("i",{staticClass:"el-input__icon el-icon-edit",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)]),e._v(" "),o("el-col",{attrs:{span:6,offset:0}},[[o("div",{on:{click:e.refreshCode}},[o("AddCode",{attrs:{identifyCode:e.identifyCode}})],1)]],2)],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("el-button",{staticClass:"LoginButton",attrs:{type:"primary",plain:""},on:{click:e.login}},[e._v("确认登录")])],1)],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("el-form-item",[o("router-link",{staticClass:"Jump_Login",attrs:{to:"/Register"}},[o("el-link",{attrs:{type:"primary",underline:!1}},[e._v("还没账号？点我注册")])],1),e._v(" "),o("router-link",{staticClass:"Jump_Login margin_r_5",attrs:{to:"/Retrieve"}},[o("el-link",{attrs:{type:"danger",underline:!1}},[e._v("忘记密码?")])],1),e._v(" "),o("router-link",{staticClass:"Jump_Login margin_r_5",attrs:{to:"/"}},[o("el-link",{attrs:{type:"warning",underline:!1}},[e._v("返回首页")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(l,a,!1,function(e){o("y8QJ"),o("Xr6q")},"data-v-b93bd6d6",null);t.default=c.exports}});
//# sourceMappingURL=7.cd0b4e66b0b4115c8627.js.map