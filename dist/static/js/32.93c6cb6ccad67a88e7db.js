webpackJsonp([32],{"9bBU":function(e,t,i){i("mClu");var s=i("FeBl").Object;e.exports=function(e,t,i){return s.defineProperty(e,t,i)}},C4MV:function(e,t,i){e.exports={default:i("9bBU"),__esModule:!0}},FXnJ:function(e,t){},NtLr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("bOdI"),n=i.n(s),a=i("9K/l"),c={name:"AuctionVehicle",data:function(){return{count:0,loading:!1,vehicleArr:[],num:0,frequency:0,timeBaseNum:0,priceBaseNum:0,countDownList:0,btnFlag:!1}},computed:{noMore:function(){return this.count>=this.vehicleArr.length},disabled:function(){return this.loading||this.noMore}},mounted:function(){var e=this;Object(a.a)("auction/Auction/vehicle").then(function(t){e.vehicleArr=t.data.data,e.vehicleArr.length>0&&(console.log(t.data.surplusTime),e.timeFun(t.data.surplusTime)),e.frequency=parseInt(e.vehicleArr.length/4),e.num=e.vehicleArr.length-frequency,e.num=e.vehicleArr.length-frequency,0==frequency?e.count=e.num:e.count=4}).catch(function(e){console.log(e)})},methods:n()({load:function(){var e=this;this.loading=!0,setTimeout(function(){e.count+4>=e.vehicleArr.length?e.count=e.count+(e.vehicleArr.length-e.count):e.count+=4,e.loading=!1},1e3)},vehicleSel:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";this.count=0;var r={brandID:e,seriesID:t,price:i,timeBaseNum:n,priceBaseNum:c};Object(a.b)("auction/Auction/vehicle",r).then(function(e){s.vehicleArr=e.data.data,s.frequency=parseInt(s.vehicleArr.length/4),s.num=s.vehicleArr.length-frequency,0==frequency?s.count=s.num:s.count=4}).catch(function(e){console.log(e)})},timeBase:function(){this.priceBaseNum=0,0==this.timeBaseNum?this.timeBaseNum=1:this.timeBaseNum=1==this.timeBaseNum?2:1,this.$parent.timeBase(this.timeBaseNum)},priceBase:function(){this.timeBaseNum=0,0==this.priceBaseNum?this.priceBaseNum=1:this.priceBaseNum=1==this.priceBaseNum?2:1,this.$parent.priceBase(this.priceBaseNum)},defaultBase:function(){this.timeBaseNum=0,this.priceBaseNum=0,this.$parent.defaultBase()},collection:function(e,t){},timeFormat:function(e){return e<10?"0"+e:e},timeFun:function(e){var t=this,i=setInterval(function(){var s=null;if(e>0){var n=parseInt(e%86400/3600),a=parseInt(e%86400%3600/60),c=parseInt(e%86400%3600%60);s={hou:t.timeFormat(n),min:t.timeFormat(a),sec:t.timeFormat(c)},e--}else s={hou:"00",min:"00",sec:"00"},clearInterval(i),t.$parent.priceBase();t.countDownList=s.hou+"时"+s.min+"分"+s.sec+"秒"},1e3)},open:function(e,t){var i=this;this.$prompt("单位：万","请输入金额",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d+(\.\d+)?$/,inputErrorMessage:"金额格式不正确",type:"warning"}).then(function(s){var n=s.value;n>t?(i.$message({type:"success",message:"感谢您的出价,出价中请稍后"}),offer.innerHTML="出价中",i.btnFlag=!0,i.hairPrice(e,n)):i.$message({type:"info",message:"您输入的价格未大于拍卖价"})}).catch(function(){i.$message({type:"info",message:"取消输入"})})},hairPrice:function(e,t){var i=this,s={id:e,price:t};Object(a.b)("auction/Auction/Price",s).then(function(e){if(1==e.data.code)var t={msg:"出价成功",type:"success"};else t={msg:"出价失败！请稍后再试",type:"warning"};setTimeout(function(){i.$message({type:t.type,message:t.msg}),offer.innerHTML="出价",i.btnFlag=!1,i.$parent.priceBase()},2e3)}).catch(function(e){console.log(e)})}},"collection",function(e,t,i,s){var n=this,c={vehicleID:e,flag:t,sellID:i};0==t?this.$message({message:"收藏中，请稍后",type:"warning"}):this.$message({message:"取消中，请稍后",type:"warning"}),Object(a.b)("auction/Auction/collection",c).then(function(e){if(0==t)if(1==e.data.code){var i={msg:"收藏成功",type:"success"};n.$set(n.vehicleArr[s][0],"collection",1)}else i={msg:"收藏失败！请稍后再试",type:"warning"};else if(1==e.data.code){i={msg:"取消成功",type:"success"};n.$set(n.vehicleArr[s][0],"collection",0)}else i={msg:"取消失败！请稍后再试",type:"warning"};n.$message({type:i.type,message:i.msg})}).catch(function(e){console.log(e)})})},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"margin-bottom":"50px"}},[i("el-row",{staticClass:"breadcrumb hidden-xs-only"},[i("el-col",{staticClass:"hidden-xs-only auctionTitle",attrs:{md:18,offset:3}},[i("el-col",{staticClass:"largeTitle",attrs:{sm:3}},[i("h3",[e._v("竞拍中("+e._s(e.vehicleArr.length)+")")])]),e._v(" "),i("el-col",{staticClass:"SortBase",attrs:{sm:5,offset:16}},[i("el-col",{attrs:{sm:8}},[i("span",{staticClass:"SortCarBase",on:{click:e.defaultBase}},[e._v("默认排序")])]),e._v(" "),i("el-col",{attrs:{sm:8}},[i("span",{staticClass:"SortCarBase",on:{click:e.timeBase}},[e._v("\n            最新\n            "),i("i",{staticClass:"el-icon-sort"})])]),e._v(" "),i("el-col",{attrs:{sm:8}},[i("span",{staticClass:"SortCarBase",on:{click:e.priceBase}},[e._v("\n            价格\n            "),i("i",{staticClass:"el-icon-sort"})])])],1)],1)],1),e._v(" "),i("el-row",{staticClass:"outerFrame",attrs:{gutter:20}},[i("el-col",{staticStyle:{height:"1px"},attrs:{sm:3,xs:0}}),e._v(" "),i("el-col",{attrs:{md:18}},[i("div",{staticClass:"infinite-list-wrapper",staticStyle:{overflow:"auto"}},[i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.load,expression:"load"}],staticClass:"list",attrs:{"infinite-scroll-disabled":"disabled"}},e._l(e.count,function(t,s){return i("li",{key:s,staticClass:"list-item"},[i("el-col",{staticClass:"outerFrameBox",attrs:{sm:24,xs:24}},[i("el-card",{attrs:{shadow:"hover"}},[i("div",{staticClass:"vehicleImg"},[i("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.vehicleArr[s].img}})],1),e._v(" "),i("P",{staticClass:"vehicleName"},[i("span",{staticClass:"logo"},[e._v("花生")]),e._v("\n                  "+e._s(e.vehicleArr[s].vehicle_name)+"\n                ")]),e._v(" "),i("div",{staticClass:"minVehicleBox"},[i("span",{staticClass:"vehicleTime"},[e._v("2020年 | 车况极佳")]),e._v(" "),i("span",{staticClass:"priceDistance"},[e._v("8.98万公里")]),e._v(" "),i("span",{staticClass:"priceFirst"},[e._v("竞拍金额"+e._s(e.vehicleArr[s].price)+"万")]),e._v(" "),0==e.vehicleArr[s][0].collection?i("p",{staticClass:"vehiclePrice",on:{click:function(t){return e.collection(e.vehicleArr[s].vehicle_id,0,e.vehicleArr[s].sell_id,s)}}},[i("i",{staticClass:"el-icon-star-off"}),e._v(" "),i("span",{staticStyle:{"font-size":"14px"}},[e._v("收藏")])]):i("p",{staticClass:"vehiclePrice",on:{click:function(t){return e.collection(e.vehicleArr[s].vehicle_id,1,e.vehicleArr[s].sell_id,s)}}},[i("i",{staticClass:"el-icon-star-on"}),e._v(" "),i("span",{staticStyle:{"font-size":"14px"}},[e._v("已收藏")])])]),e._v(" "),i("div",{staticClass:"vehicleBtn"},[i("p",{staticClass:"endTime"},[e._v("\n                    距离结束：\n                    "),i("span",[e._v(e._s(e.countDownList))])]),e._v(" "),i("el-button",{staticClass:"auctionBtn",attrs:{type:"warning",plain:"",loading:e.btnFlag,id:"offer"},on:{click:function(t){return e.open(e.vehicleArr[s].vehicle_id,e.vehicleArr[s].price)}}},[e._v("出价")])],1)],1)],1)],1)}),0),e._v(" "),e.loading?i("p",{staticClass:"tiShi"},[e._v("加载中...")]):e._e(),e._v(" "),e.noMore?i("p",{staticClass:"tiShi"},[e._v("没有更多了")]):e._e()])])],1)],1)},staticRenderFns:[]};var l=i("VU/8")(c,r,!1,function(e){i("FXnJ")},"data-v-18f7d426",null);t.default=l.exports},bOdI:function(e,t,i){"use strict";t.__esModule=!0;var s,n=i("C4MV"),a=(s=n)&&s.__esModule?s:{default:s};t.default=function(e,t,i){return t in e?(0,a.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},mClu:function(e,t,i){var s=i("kM2E");s(s.S+s.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})}});
//# sourceMappingURL=32.93c6cb6ccad67a88e7db.js.map