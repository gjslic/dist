webpackJsonp([4,10],{KXaA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("BO1k"),l=r.n(a),n=r("bOdI"),i=r.n(n),o=r("ZdAc"),s=r("2ndn"),c=r("9K/l"),u={name:"SellingCars",components:{Menu:o.default,Bottom:s.default},data:function(){var e;return e={fileList:[{name:"",url:""}],brandS:[],series:[],cityArr:[],brandArr:[],tabArr:[],auctiontimeArr:[],cityid:"",brandid:"",lastImgUrl:"",showPrise:!1,checked1:!1},i()(e,"cityArr",[]),i()(e,"checked",!0),i()(e,"input",""),i()(e,"input1",""),i()(e,"textarea",""),i()(e,"input2",""),i()(e,"fits",["fill"]),i()(e,"url","//s5.xinstatic.com/static/newcar-www/widget/c2b_sale_new/c2b_car_sale_top/imgs/salecar-banner_bc02644.jpg"),i()(e,"fileList",[]),i()(e,"value1",""),i()(e,"pickerOptions",{disabledDate:function(e){return e.getTime()>Date.now()}}),i()(e,"radio",""),i()(e,"ruleForm",{name:"",brand:"",date:"",num:"",delivery:!1,type:[],resource:"",salePrice:"",carname:"",tab:""}),i()(e,"rules",{name:[{required:!0,message:"请输入城市名称",trigger:"blur"}],brand:[{required:!0,message:"请输入车辆品牌",trigger:"blur"}],date:[{required:!0,message:"请输入上牌时间",trigger:"blur"}],num:[{required:!0,message:"请输入行驶里程",trigger:"blur"}],resource:[{required:!0,message:"请选择一个车辆信息",trigger:"change"}],salePrice:[{required:!0,message:"请输入期望价格",trigger:"change"}],carname:[{required:!0,message:"请输入车辆信息",trigger:"change"}],tab:[{required:!0,message:"请选择车辆标签",trigger:"change"}]}),e},mounted:function(){this.getsellcity(),this.getSeriesData(),this.getcartab(),this.showaction(),this.iftoken()},methods:{iftoken:function(){var e=localStorage.getItem("tokenVue");""!=e&&null!=e||(this.$message({type:"warning",message:"请先登录"}),this.$router.push({name:"Login"}))},getsellcity:function(){var e=this;Object(c.a)("/sellcar/Sellcar/getsellcity").then(function(t){console.log(t),e.cityArr=t.data}).catch(function(e){console.log(e)})},getSeriesData:function(){var e=this;Object(c.a)("/sellcar/Sellcar/getSeries").then(function(t){console.log(t);var r=[],a=t.data.series,n=t.data.brand,i=!0,o=!1,s=void 0;try{for(var c,u=l()(n);!(i=(c=u.next()).done);i=!0){var m=c.value;m.children=[],r.push(m);var d=!0,g=!1,p=void 0;try{for(var f,v=l()(a);!(d=(f=v.next()).done);d=!0){var b=f.value;b.brand_id==m.value&&m.children.push(b)}}catch(e){g=!0,p=e}finally{try{!d&&v.return&&v.return()}finally{if(g)throw p}}}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}e.brandS=r}).catch(function(e){console.log(e)})},getcartab:function(){var e=this;Object(c.a)("/sellcar/Sellcar/getcartab").then(function(t){console.log(t),e.tabArr=t.data}).catch(function(e){console.log(e)})},showaction:function(){var e=this;Object(c.a)("/sellcar/Sellcar/showaction").then(function(t){console.log(t),e.auctiontimeArr=t.data}).catch(function(e){console.log(e)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"请确认是否已填写所有信息",type:"warning"}),!1;var r=localStorage.getItem("tokenVue"),a=t.ruleForm.auction;null==a&&(a=0),console.log(a);var l={imgUrl:t.lastImgUrl,ruleForm:t.ruleForm,auctiontime:a,usetoken:r};console.log(l),1==t.checked?t.$confirm("请确保信息的真实性，如需拍卖您的爱车请联系客服。点击确认提交信息","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.$message({type:"success",message:"提交成功！请敬候佳音~"}),Object(c.b)("/sellcar/Sellcar/sellcardata",l).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消提交"})}):t.$message({message:"请勾选个人信息告知书",type:"warning"})})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},uploadSuccess:function(e,t,r){this.lastImgUrl=e}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"SellingCars"}},[r("Menu"),e._v(" "),r("el-row",{staticClass:"margin_bottom_20"},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content bg-purple-dark"},[r("div",{staticClass:"demo-image"},e._l(e.fits,function(t){return r("div",{key:t,staticClass:"block"},[r("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.url,fit:t}})],1)}),0)])])],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{staticStyle:{height:"1px"},attrs:{sm:5,xs:1}}),e._v(" "),r("el-col",{attrs:{span:18}},[r("el-row",{attrs:{gutter:24}},[r("el-form-item",{attrs:{label:"选择城市",prop:"name"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}},e._l(e.cityArr,function(e){return r("el-option",{key:e.city_id,attrs:{label:e.city_name,value:e.city_id}})}),1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"车牌系列",prop:"brand"}},[r("el-cascader",{attrs:{options:e.brandS,props:{expandTrigger:"hover"}},model:{value:e.ruleForm.brand,callback:function(t){e.$set(e.ruleForm,"brand",t)},expression:"ruleForm.brand"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"车辆信息",prop:"carname"}},[r("el-input",{staticClass:"carinfo",attrs:{placeholder:"请输入年份款式，排气等信息",type:"text",maxlength:"25","show-word-limit":""},model:{value:e.ruleForm.carname,callback:function(t){e.$set(e.ruleForm,"carname",t)},expression:"ruleForm.carname"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"车辆标签",prop:"tab"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择车辆标签"},model:{value:e.ruleForm.tab,callback:function(t){e.$set(e.ruleForm,"tab",t)},expression:"ruleForm.tab"}},e._l(e.tabArr,function(e){return r("el-option",{key:e.tab_id,attrs:{label:e.tab_name,value:e.tab_id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"上牌时间",prop:"date"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择时间"},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"行驶里程",prop:"num"}},[r("el-input",{staticClass:"width_150",attrs:{type:"text",placeholder:"已万公里记录",maxlength:"4","show-word-limit":"",onkeyup:"value=value.replace(/[^\\d.]/g,'')",onpaste:"value=value.replace(/[^\\0-9\\.]/g,'')",oncontextmenu:"value=value.replace(/[^\\0-9\\.]/g,'')"},model:{value:e.ruleForm.num,callback:function(t){e.$set(e.ruleForm,"num",t)},expression:"ruleForm.num"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"期望价格",prop:"salePrice"}},[r("el-input",{attrs:{placeholder:"请输入价格（万）",maxlength:"4",onkeyup:"value=value.replace(/[^\\d.]/g,'')"},model:{value:e.ruleForm.salePrice,callback:function(t){e.$set(e.ruleForm,"salePrice",t)},expression:"ruleForm.salePrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"车况标签",prop:"resource"}},[r("el-radio-group",{model:{value:e.ruleForm.resource,callback:function(t){e.$set(e.ruleForm,"resource",t)},expression:"ruleForm.resource"}},[r("el-radio",{staticClass:"margin_bottom_5",attrs:{label:"车况极佳"}},[e._v("车况极佳")]),e._v(" "),r("el-radio",{staticClass:"margin_bottom_5",attrs:{label:"稍微刮伤"}},[e._v("稍微刮伤")]),e._v(" "),r("el-radio",{staticClass:"margin_bottom_5",attrs:{label:"严重刮伤"}},[e._v("严重刮伤")]),e._v(" "),r("el-radio",{staticClass:"margin_bottom_5",attrs:{label:"是否泡水"}},[e._v("是否泡水")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"拍卖场次"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"在需要拍卖时选择",placement:"right"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择拍卖场次"},model:{value:e.ruleForm.auction,callback:function(t){e.$set(e.ruleForm,"auction",t)},expression:"ruleForm.auction"}},e._l(e.auctiontimeArr,function(e){return r("el-option",{key:e.id,attrs:{label:e.start_time+"~"+e.end_time,value:e.id}})}),1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"车辆图片"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"http://118.190.149.14/th5/public/sellcar/Sellcar/uploadimg",limit:1,name:"image","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-success":e.uploadSuccess,"file-list":e.fileList,"list-type":"picture-card"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传车辆信息")]),e._v(" "),r("div",{staticClass:"el-upload__tip ",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件只取第一张")])],1)],1),e._v(" "),r("el-form-item",{staticClass:"margin_left_20"},[r("div",{staticClass:"margin_bottom_10 margin_l_10"},[r("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[r("el-link",{attrs:{type:"info",underline:!1}},[e._v("我已阅读同意")]),r("el-link",{attrs:{type:"primary",underline:!1}},[e._v("《个人信息使用告知书》")])],1)],1)]),e._v(" "),r("el-form-item",{staticClass:"form_button"},[r("el-button",{staticClass:"margin_l_10",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交信息")]),e._v(" "),r("el-button",{staticStyle:{"margin-left":"30px","margin-top":"10px"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),r("Bottom")],1)},staticRenderFns:[]};var d=r("VU/8")(u,m,!1,function(e){r("crZl"),r("Zcs/")},"data-v-67be4040",null);t.default=d.exports},PHzc:function(e,t){},"Zcs/":function(e,t){},crZl:function(e,t){},xsFv:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"AddSellingCars",components:{SellingCars:r("KXaA").default,Menu:function(){return new Promise(function(e){e()}).then(r.bind(null,"ZdAc"))},Bottom:function(){return new Promise(function(e){e()}).then(r.bind(null,"2ndn"))}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Menu"),this._v(" "),t("SellingCars"),this._v(" "),t("Bottom")],1)},staticRenderFns:[]};var n=r("VU/8")(a,l,!1,function(e){r("PHzc")},null,null);t.default=n.exports}});
//# sourceMappingURL=4.6996d66380e02a707996.js.map