{"version":3,"sources":["webpack:///src/components/admin/StaffManage.vue","webpack:///./src/components/admin/StaffManage.vue?5f7a","webpack:///./src/components/admin/StaffManage.vue"],"names":["StaffManage","name","data","_this","this","accReg","pswReg","telReg","nickNameReg","url","rules","validator","rule","value","callback","undefined","Error","match","trigger","account","setTimeout","password","phone","tel","toString","checkRole","form","sex","dialogTitle","selectInfo","selectVal","roleArr","staffArr","checkArr","selectRow","addDialogForm","editDialogForm","head_img","role_name","delivery","formLabelWidth","options","label","nowPage","pageSize","mounted","loadBack","getStaff","methods","getSearchInfo","val","handleSelectionChange","checkVal","_selectRow","arr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","x","push","id","err","return","apply","handleCurrentChange","currentPage","handleSizeChange","num","_this2","searchType","arguments","length","searchInfo","localStorage","getItem","staffAcc","$post","type","keyWord","acc","then","res","total","catch","console","log","addStaff","_this3","$refs","MyForm","validate","valid","infoType","code","$message","showClose","message","msg","enterEdit","_this4","getRoleArr","that","editState","row","_this5","state","msgType","loading","$loading","lock","text","spinner","background","close","editStaff","delStaff","_this6","batchDeleteStaff","_this7","delArr","stringify_default","$fetch","resetPsw","_this8","msgInfo","closeFun","resetFields","clearSearch","admin_StaffManage","render","_vm","_h","$createElement","_c","_self","attrs","staticStyle","font-size","separator-class","_v","staticClass","span","on","click","$event","title","onConfirm","slot","width","placeholder","model","$$v","expression","_l","item","key","onkeyup","blur","icon","_e","center","visible","update:visible","ref","status-icon","prop","label-width","onKeyUp","required","$set","show-password","maxlength","show-word-limit","focus","index","disabled","plain","src","_s","border-radius","header-cell-style","color","fontSize","highlight-current-row","border","slice","tooltip-effect","selection-change","align","sortable","scopedSlots","_u","fn","scope","effect","content","placement","circle","iconColor","text-align","current-page","page-sizes","page-size","layout","current-change","size-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.fef413117a7fa313b322.js","sourcesContent":["<template>\r\n\t<div id=\"contanir\" v-cloak>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"font-size:20px\">\r\n      <el-breadcrumb-item>Peanut后台</el-breadcrumb-item>\r\n      <el-breadcrumb-item>员工管理</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\t\t<!-- 页面头部操作框 -->\r\n\t\t<el-row type=\"flex\" push=\"3\" class=\"row-bg\">\r\n\t\t  <el-col :span=\"3\">\r\n\t\t  \t<el-button type=\"primary\"  @click=\"addDialogForm =true , dialogTitle = '添加员工信息'\" >添加员工</el-button>\r\n\t\t  </el-col>\r\n\t\t\t<el-col :span=\"3\">\r\n\t\t\t\t<el-popconfirm title=\"是否批量操作？删除后不可恢复\" @onConfirm=\"batchDeleteStaff\">\r\n\t\t  \t\t<el-button type=\"danger\" slot=\"reference\">批量删除</el-button>\r\n\t\t\t\t</el-popconfirm>\r\n\t\t  </el-col>\r\n\t\t  <el-col :span=\"12\">\r\n\t\t\t\t<el-select v-model=\"selectVal\" placeholder=\"请选择\" style=\"width:100px\">\r\n\t\t\t\t\t<el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t\t<el-input placeholder=\"请输入内容，默认为账号\" onkeyup=\"value=value.replace(/[^\\w\\u4E00-\\u9FA5_]/g, '')\" v-model=\"selectInfo\" @blur=\"getSearchInfo(selectInfo)\" class=\"input-with-select\"></el-input>\r\n\t\t\t\t<el-button icon=\"el-icon-search\" @click=\"getStaff(nowPage,selectVal,selectInfo)\"></el-button>\r\n\t\t  </el-col>\r\n\t\t\t<el-col :span=\"3\">\r\n\t\t  \t<el-button type=\"primary\" v-if=\"selectInfo != '' || selectVal != ''\" @click=\"clearSearch\">清空搜索</el-button>\r\n\t\t  </el-col>\r\n\t\t</el-row>\r\n\t\t<!-- 员工添加弹出框 -->\r\n    <el-dialog :title=\"dialogTitle\" @close=\"closeFun\" center :visible.sync=\"addDialogForm\">\r\n\t\t  <el-form :model=\"form\" status-icon :rules=\"rules\" ref=\"MyForm\" class=\"demo-ruleForm\">\r\n\t\t    <el-form-item label=\"员工账号\" prop=\"account\" :label-width=\"formLabelWidth\">\r\n\t\t      <el-input v-model=\"form.account\" onKeyUp=\"value=value.replace(/[\\W]/g,'')\" required=\"true\" placeholder=\"6-10位英文+数字，英文开头\"></el-input>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"员工密码\" prop=\"password\" :label-width=\"formLabelWidth\">\r\n\t\t    \t<el-input placeholder=\"8-10位数字+大小写字母\" onKeyUp=\"value=value.replace(/[\\W]/g,'')\" v-model=\"form.password\" show-password></el-input>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"昵称\" prop=\"name\" :label-width=\"formLabelWidth\">\r\n\t\t      <el-input v-model=\"form.name\" onkeyup=\"value=value.replace(/[^\\w\\u4E00-\\u9FA5_]/g, '')\" placeholder=\"1~6位中文、英文、数字包括下划线\"></el-input>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"手机号\" prop=\"phone\" :label-width=\"formLabelWidth\">\r\n\t\t    \t<el-input type=\"text\" placeholder=\"13,15,17,18开头，11位数字\" onkeyup=\"this.value=this.value.replace(/\\D/g,'')\" v-model=\"form.phone\" maxlength=\"11\" show-word-limit></el-input>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"员工职位\" prop=\"checkRole\" :label-width=\"formLabelWidth\" >\r\n\t\t      <el-select v-model=\"form.checkRole\" placeholder=\"请选择员工职位\" @focus=\"getRoleArr\">\r\n\t\t\t\t\t\t<template v-for=\"(item , index) in roleArr\"  >\r\n\t\t        \t<el-option :key=\"index\" v-if=\"item.role_name == '超级管理员'\" disabled :value=\"item.role_name\"></el-option>\r\n\t\t\t\t\t\t\t<el-option v-else :key=\"index\" :label=\"item.role_name\" :value=\"item.role_name\"></el-option>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-select>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"性别\" prop=\"sex\" :label-width=\"formLabelWidth\">\r\n\t\t    \t<el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\r\n\t\t  \t\t<el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\r\n\t\t    </el-form-item>\r\n\t\t  </el-form>\r\n\t\t  <div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t    <el-button @click=\"addDialogForm = false\">取 消</el-button>\r\n\t\t    <el-button type=\"primary\" :plain=\"true\" @click=\"addStaff(form)\">确 定</el-button>\r\n\t\t  </div>\r\n\t\t</el-dialog>\r\n\t\t<!-- 员工修改弹出框 -->\r\n\t\t<el-dialog :title=\"dialogTitle\" @close=\"closeFun\" center :visible.sync=\"editDialogForm\">\r\n\t\t  <el-form :model=\"form\" status-icon :rules=\"rules\" ref=\"MyForm\" class=\"demo-ruleForm\">\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-image v-if=\"form.head_img\" :src=\"form.head_img\" class=\"avatar\"></el-image>\r\n\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t</el-form-item>\r\n\t\t    <el-form-item label=\"员工账号\" prop=\"account\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<span>{{form.account}}</span>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"昵称\" prop=\"name\" :label-width=\"formLabelWidth\">\r\n\t\t      <el-input v-model=\"form.name\" onkeyup=\"value=value.replace(/[^\\w\\u4E00-\\u9FA5_]/g, '')\" placeholder=\"1~6位中文、英文、数字包括下划线\"></el-input>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"手机号\" prop=\"phone\" :label-width=\"formLabelWidth\">\r\n\t\t    \t<el-input type=\"text\" placeholder=\"13,15,17,18开头，11位数字\" onkeyup=\"this.value=this.value.replace(/\\D/g,'')\" v-model=\"form.phone\" maxlength=\"11\" show-word-limit></el-input>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"员工职位\" prop=\"role_name\" :label-width=\"formLabelWidth\" >\r\n\t\t      <el-select v-model=\"form.role_name\" placeholder=\"请选择员工职位\" @focus=\"getRoleArr\">\r\n\t\t\t\t\t\t<template v-for=\"(item , index) in roleArr\"  >\r\n\t\t        \t<el-option :key=\"index\" v-if=\"item.role_name == '超级管理员'\" disabled :value=\"item.role_name\"></el-option>\r\n\t\t\t\t\t\t\t<el-option v-else :key=\"index\" :label=\"item.role_name\" :value=\"item.role_name\"></el-option>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-select>\r\n\t\t    </el-form-item>\r\n\t\t    <el-form-item label=\"性别\" prop=\"sex\" :label-width=\"formLabelWidth\">\r\n\t\t    \t<el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\r\n\t\t  \t\t<el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\r\n\t\t    </el-form-item>\r\n\t\t  </el-form>\r\n\t\t  <div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t    <el-button @click=\"addDialogForm = false\">取 消</el-button>\r\n\t\t    <el-button type=\"primary\" :plain=\"true\" @click=\"enterEdit(form)\">确 定</el-button>\r\n\t\t  </div>\r\n\t\t</el-dialog>\r\n\t\t<!-- 员工信息展示区 -->\r\n\t \t<el-table ref=\"multipleTable\" @selection-change=\"handleSelectionChange\" :header-cell-style=\"{background:'skyblue',color:'white',fontSize:'18px'}\" highlight-current-row border style=\"width:100%;border-radius:10px\" :data=\"staffArr.slice((nowPage - 1) * pageSize,nowPage*pageSize)\" tooltip-effect=\"dark\">\r\n\t\t\t<el-table-column align=\"center\" type=\"selection\"></el-table-column>\r\n\t\t\t<el-table-column align=\"center\" prop=\"id\" sortable label=\"ID\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" label=\"账号\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span>{{scope.row.account}}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" label=\"昵称\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span>{{scope.row.name}}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" label=\"头像\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-image :src=\"scope.row.head_img\" style=\"width:80px;border-radius:50%\"></el-image>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" label=\"手机号\" width=\"120px\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span>{{scope.row.phone}}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" label=\"职位\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span>{{scope.row.role_name}}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" label=\"性别\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span>{{scope.row.sex}}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" label=\"状态\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span v-if=\"scope.row.state == 1\">解锁</span>\r\n\t\t\t\t\t<span v-else-if=\"scope.row.state == 0\">锁定</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column align=\"center\" label=\"操作\" width=\"240px\">\r\n\t\t\t\t<template slot-scope=\"scope\" v-if=\"scope.row.role_name != '超级管理员'\" disabled >\r\n          <el-tooltip class=\"item\" effect=\"light\" v-if=\"scope.row.state == 1\" content=\"点击锁定\" placement=\"top\">\r\n\t\t\t\t\t  <el-button type=\"warning\" icon=\"el-icon-lock\" @click=\"editState(scope.row.id,scope.row)\" circle></el-button>\r\n          </el-tooltip>\r\n          <el-tooltip class=\"item\" effect=\"light\" v-else-if=\"scope.row.state == 0\" content=\"点击解锁\" placement=\"top\">\r\n\t\t\t\t  \t<el-button type=\"primary\" icon=\"el-icon-unlock\" @click=\"editState(scope.row.id,scope.row)\" circle></el-button>\r\n          </el-tooltip>\r\n\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" content=\"点击修改当前员工信息\" placement=\"top\">\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" @click=\"editStaff(scope.row)\" circle></el-button>\r\n          </el-tooltip>\r\n          <el-tooltip class=\"item\" effect=\"light\" content=\"点击删除当前员工\" placement=\"top\">\r\n            <el-popconfirm title=\"确认删除该用户？\" icon=\"el-icon-info\" iconColor=\"red\" @onConfirm=\"delStaff(scope.row.id)\">\r\n              <el-button type=\"danger\" slot=\"reference\" icon=\"el-icon-delete\" circle></el-button>\r\n            </el-popconfirm>\r\n          </el-tooltip>\r\n\t\t\t\t\t\r\n          <el-tooltip class=\"item\" effect=\"dark\" content=\"点击重置密码\" placement=\"top\">\r\n            <el-popconfirm title=\"是否重置密码？\" @onConfirm=\"resetPsw(scope.row.id)\">\r\n              <el-button type=\"danger\" slot=\"reference\" icon=\"el-icon-refresh\" circle></el-button>\r\n            </el-popconfirm>\r\n          </el-tooltip>\r\n\t\t\t\t\t\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<el-pagination\r\n\t\t\tbackground\r\n\t\t\tstyle=\"text-align:center\"\r\n      :current-page=\"nowPage\"\r\n\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t@size-change=\"handleSizeChange\"\r\n      :page-sizes=\"[5, 10, 15, 100]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, prev, sizes ,pager, next, jumper\"\r\n      :total=\"staffArr.length\">\r\n    </el-pagination>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport {request} from \"../../network/request\";\r\n\texport default {\r\n\t\tname: 'StaffManage',\r\n\t\tdata() {\r\n\t\t\t/**\r\n\t\t\t * [账号正则：accReg => 6-10位英文+数字，英文开头]\r\n\t\t\t * [密码正则：pswReg => 6-16位英文+数字,必须包含大小写字母和数字]\r\n\t\t\t * [手机号正则：telReg => 13,15,17,18开头，11位数字]\r\n\t\t\t * [昵称正则：nickNameReg => 中文、英文、数字包括下划线]\r\n\t\t\t */\r\n\t\t\tlet accReg = /^[a-zA-Z][a-zA-Z0-9_]{6,10}$/; \r\n\t\t\tlet pswReg = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,16}$/;\r\n\t\t\tlet telReg = /^1[3578]\\d{9}$/;\r\n\t\t\tlet nickNameReg = /^[\\u4E00-\\u9FA5A-Za-z0-9_]{1,6}$/;\r\n\t\t\t// 账号正则校验\r\n\t\t\tlet checkAcc = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('账号不可为空'));\r\n        }\r\n        setTimeout(() => {\r\n          if (value.match(accReg) == null) {\r\n            callback(new Error('账号规则：6-10位英文+数字，英文开头'));\r\n          } else {\r\n              callback();\r\n          }\r\n        }, 1000);\r\n\t\t\t};\r\n\t\t\t// 密码正则校验\r\n      let checkPsw = (rule, value, callback) => {\r\n        if (value === '' || value == undefined) {\r\n          callback(new Error('请输入密码'));\r\n        } else {\r\n          if (value.match(pswReg) == null) {\r\n            callback(new Error('密码规则：8-10位英文+数字,必须包含大小写字母和数字'))\r\n          }\r\n          callback();\r\n        }\r\n\t\t\t};\r\n\t\t\t// 昵称正则校验\r\n\t\t\tlet checkName = (rule , value , callback) => {\r\n\t\t\t\tif(value === '' || value == undefined){\r\n\t\t\t\t\tcallback(new Error('请创建昵称'));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif (value.match(nickNameReg) == null) {\r\n            callback(new Error('昵称规则：1-6位中文、英文、数字包括下划线'))\r\n          }\r\n          callback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 手机号正则校验\r\n\t\t\tlet checkTel = (rule , value , callback) => {\r\n        if(value != undefined){\r\n          let tel = value.toString();\r\n          if(!tel){\r\n            callback(new Error('请输入手机号'));\r\n          }else{\r\n            if (tel.match(telReg) == null) {\r\n              callback(new Error('手机号规则：13,15,17,18开头，11位数字'))\r\n            }\r\n            callback();\r\n          }\r\n        }else{\r\n          callback(new Error('请输入手机号'));\r\n        }\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t\t// 角色判断不为空\r\n\t\t\tlet checkRole = (rule , value , callback) => {\r\n\t\t\t\tif(this.form.checkRole === '' || value == undefined){\r\n\t\t\t\t\tcallback(new Error('请选择职位'));\r\n\t\t\t\t}else{\r\n          callback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t// 性别判断是否选中\r\n\t\t\tlet checkSex = (rule , value , callback) => {\r\n\t\t\t\tif(value === '' || value == undefined){\r\n\t\t\t\t\tcallback(new Error('请选择性别'));\r\n\t\t\t\t}else{\r\n          callback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n      return {\r\n\t\t\t\turl: 'http://127.0.0.1/th5/public/admin_staff/staff/',\r\n\t\t\t\trules: {\r\n          name: [\r\n            { validator: checkName, trigger: 'blur' }\r\n          ],\r\n          account: [\r\n            { validator: checkAcc, trigger: 'blur' }\r\n          ],\r\n          password: [\r\n            { validator: checkPsw, trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tphone: [\r\n            { validator: checkTel, trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tcheckRole: [\r\n            { validator: checkRole, trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsex: [\r\n            { validator: checkSex, trigger: 'blur' }\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tdialogTitle: '', // 弹框标题\r\n      \tselectInfo: '', //条件\r\n      \tselectVal: '', //条件搜索\r\n\t\t\t\troleArr: [], // 职位列表\r\n        staffArr: [],  //员工列表\r\n        checkArr: [], //复选框勾选容器\r\n\t\t\t\tselectRow: [], //当前选中行\r\n\t\t\t\taddDialogForm: false,  //添加弹出框初始状态\r\n\t\t\t\teditDialogForm:false,  //修改弹出框初始状态\r\n\t\t\t\t// 添加框绑定值\r\n\t\t\t\tform: {\r\n          name: '',    //昵称 \r\n          account: '', // 添加账号\r\n          password: '',// 添加密码\r\n          phone: '',     // 添加电话\r\n\t\t\t\t\thead_img: 'https://dss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1091405991,859863778&fm=26&gp=0.jpg', //图片路径\r\n\t\t\t\t\trole_name: '',\r\n\t\t\t\t\tcheckRole: '',\r\n          sex: '男', // 性别\r\n          delivery: false,\r\n\t\t\t\t},\r\n\t\t\t\tformLabelWidth: '120px',\r\n\t\t\t\t// 搜索指引\r\n\t\t\t\toptions: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '1',\r\n\t\t\t\t\t\tlabel: '账号'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '2',\r\n\t\t\t\t\t\tlabel: '昵称'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '3',\r\n\t\t\t\t\t\tlabel: '手机号'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '4',\r\n\t\t\t\t\t\tlabel: '职位'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t// 分页\r\n\t\t\t\tnowPage: 1,\r\n\t\t\t\tpageSize: 5,\r\n      };\r\n    },\r\n    // 获取员工列表\r\n    mounted() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.loadBack();\r\n      that.getStaff(that.nowPage,'','');\r\n      \r\n      \r\n    },\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * [getSearchInfo 失焦获取搜索框值]\r\n\t\t\t */\r\n\t\t\tgetSearchInfo(val){\r\n\t\t\t\tif(!val){\r\n\t\t\t\t\tthis.getStaff(this.nowPage,this.selectVal,this.selectInfo);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [handleSelectionChange 复选框状态改变]\r\n\t\t\t */\r\n\t\t\thandleSelectionChange(checkVal){\r\n        this.selectRow = []\r\n        let arr = [];\r\n        for(let x of checkVal){\r\n          arr.push(x.id)\r\n        }\r\n        this.selectRow.push(...arr);\r\n        return\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [handleCurrentChange 页码点击修改当前页码值]\r\n\t\t\t */\r\n\t\t\thandleCurrentChange(currentPage) {\r\n\t\t\t\tthis.nowPage = currentPage;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [handleSizeChange 修改当前页面每页显示条数]\r\n\t\t\t */\r\n\t\t\thandleSizeChange(pageSize) {\r\n\t\t\t\tthis.pageSize = pageSize;\r\n      },\r\n\t\t\t/**\r\n\t\t\t *[getStaff 获取员工列表]\r\n\t\t\t */ \r\n\t\t\tgetStaff(num,searchType = '',searchInfo = ''){\r\n        this.nowPage = 1;\r\n\t\t\t\tif(localStorage.getItem('staffAcc')){\r\n\t\t\t\t\tlet staffAcc = localStorage.getItem('staffAcc');\r\n\t\t\t\t\tthis.staffArr = [];\r\n\t\t\t\t\tthis.$post(this.url+'getStaffArr',{\r\n\t\t\t\t\t\t'type':searchType,\r\n\t\t\t\t\t\t'keyWord': searchInfo,\r\n\t\t\t\t\t\t'acc': staffAcc\r\n\t\t\t\t\t}).then(res => {\r\n            if(res.data){\r\n              this.total = res.data.length;\r\n\t\t\t\t\t\t  this.staffArr = res.data;\r\n            }else{\r\n              this.total = 0;\r\n            }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log(1)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [addStaff 添加员工]\r\n\t\t\t */\r\n\t\t\taddStaff(form){\r\n\t\t\t\tthis.$refs.MyForm.validate((valid) => {\r\n          if (valid) {\r\n\t\t\t\t\t\tthis.loadBack();\r\n\t\t\t\t\t\tthis.$post(this.url+'addStaff',{\r\n\t\t\t\t\t\t\tdata: form\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tlet infoType = '';\r\n\t\t\t\t\t\t\tif(res.code == 1){\r\n\t\t\t\t\t\t\t\tinfoType = 'success';\r\n\t\t\t\t\t\t\t\tthis.form = {};\r\n\t\t\t\t\t\t\t\tthis.addDialogForm = false;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tinfoType = 'error'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t\tmessage: res.msg,\r\n\t\t\t\t\t\t\t\ttype: infoType\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.getStaff(this.nowPage);\r\n\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [enterEdit 修改员工信息]\r\n\t\t\t */\r\n\t\t\tenterEdit(form){\r\n\t\t\t\tthis.$refs.MyForm.validate((valid) => {\r\n          if (valid) {\r\n\t\t\t\t\t\tthis.loadBack();\r\n\t\t\t\t\t\tthis.$post(this.url+'editStaff',{\r\n\t\t\t\t\t\t\tdata: form\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tlet infoType = '';\r\n\t\t\t\t\t\t\tif(res.code == 1){\r\n\t\t\t\t\t\t\t\tinfoType = 'success';\r\n\t\t\t\t\t\t\t\tthis.editDialogForm = false;\r\n\t\t\t\t\t\t\t\tthis.form = {};\r\n\t\t\t\t\t\t\t}else if(res.code == 0){\r\n\t\t\t\t\t\t\t\tinfoType = 'error';\r\n\t\t\t\t\t\t\t\tthis.editDialogForm = false;\r\n\t\t\t\t\t\t\t\tthis.form = {};\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tinfoType = 'error';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t\tmessage: res.msg,\r\n\t\t\t\t\t\t\t\ttype: infoType\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.getStaff(this.nowPage);\r\n\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [getRoleArr 获取角色列表]\r\n\t\t\t */\r\n      getRoleArr() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.$post(that.url+'getRoleArr',{\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthat.roleArr = res.data\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [editState 修改状态]\r\n\t\t\t */\r\n\t\t\teditState(id,row) {\r\n\t\t\t\tthis.loadBack();\r\n\t\t\t\tif(row.state == 1){\r\n\t\t\t\t\trow.state = 0;\r\n\t\t\t\t}else{\r\n\t\t\t\t\trow.state = 1\r\n\t\t\t\t}\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.$post(that.url+'editState',{\r\n\t\t\t\t\t'id': row.id,\r\n\t\t\t\t\t'state': row.state\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet msgType = '';\r\n\t\t\t\t\tif(res.code == 1){\r\n\t\t\t\t\t\tmsgType = res.data == 1 ? 'success' : 'error';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmsgType = 'error';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: res.msg,\r\n\t\t\t\t\t\ttype: msgType\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.getStaff(this.nowPage);\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [loadBack 事件触发延时]\r\n\t\t\t */\r\n\t\t\tloadBack() {\r\n        const loading = this.$loading({\r\n          lock: true,\r\n\t\t\t\t\ttext: '拼命加载中',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        });\r\n        setTimeout(() => {\r\n          loading.close();\r\n        }, 2000);\r\n      },\r\n\t\t\t/**\r\n\t\t\t * [editStaff 修改员工信息弹出框]\r\n\t\t\t */\r\n\t\t\teditStaff(row){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.form = row;\r\n\t\t\t\tthat.dialogTitle = '修改员工信息';\r\n\t\t\t\tthat.editDialogForm = true;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [delStaff 删除员工信息]\r\n\t\t\t */ \r\n\t\t\tdelStaff(id){\r\n\t\t\t\tthis.$post(this.url+'delStaff',{\r\n\t\t\t\t\tdata: id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet msgType = res.code == 1 ? 'success' : 'error';\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: res.msg,\r\n\t\t\t\t\t\ttype: msgType\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.getStaff(1);\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [batchDeleteStaff 批量删除]\r\n\t\t\t */\r\n\t\t\tbatchDeleteStaff(){\r\n        if(this.selectRow.length > 0){\r\n          let delArr = JSON.stringify(this.selectRow);\r\n          this.$fetch(this.url+'batchDeleteStaff',{delArr})\r\n          .then(res => {\r\n            let msgType = res.code == 1 ? 'success' : 'error';\r\n            this.$message({\r\n              showClose: true,\r\n              message: res.msg,\r\n              type: msgType\r\n            });\r\n            this.getStaff(1);\r\n          }).catch(err => {\r\n            console.log(err)\r\n          })\r\n        }else{\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请先选择删除项',\r\n            type: 'error'\r\n          });\r\n        }\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [resetPsw 重置密码]\r\n\t\t\t */\r\n\t\t\tresetPsw(id){\r\n\t\t\t\tthis.loadBack();\r\n\t\t\t\tthis.$fetch(this.url+'resetPsw',{\r\n\t\t\t\t\tdata: id\r\n\t\t\t\t}).then( res =>{\r\n\t\t\t\t\tlet msgType = res.code == 1 ? 'success' : 'error';\r\n\t\t\t\t\tlet msgInfo = '';\r\n\t\t\t\t\tif(res.data){\r\n\t\t\t\t\t\tmsgInfo = res.msg + ',初始密码为：' + res.data\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmsgInfo = res.msg\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: msgInfo,\r\n\t\t\t\t\t\ttype: msgType\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err =>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [closeFun dialog关闭事件]\r\n\t\t\t */\r\n\t\t\tcloseFun(form){\r\n\t\t\t\tthis.form = {};\r\n\t\t\t\tthis.$refs.MyForm.resetFields();\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [clearSearch 清空搜索条件]\r\n\t\t\t */\r\n\t\t\tclearSearch(){\r\n\t\t\t\tthis.selectVal = '';\r\n\t\t\t\tthis.selectInfo = '';\r\n\t\t\t\tthis.getStaff();\r\n\t\t\t}\r\n    }\r\n\t} \r\n</script>\r\n<style scoped>\r\n\t[v-cloak]{\r\n\t\tdisplay: none;\r\n\t}\r\n  .row-bg.el-row.el-row--flex {\r\n    margin-top: 30px;\r\n    margin-bottom: 30px;\r\n    text-align: center;\r\n  }\r\n\t.el-input {\r\n\t\tposition: relative;\r\n\t\tfont-size: 14px;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 50%;\r\n\t}\r\n\t.avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 80px;\r\n    height: 80px;\r\n    line-height: 80px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 80px;\r\n    height: 80px;\r\n    display: block;\r\n    margin-left: 260px;\r\n  }\r\n\t.el-upload__input{\r\n\t\tdisplay:none;\r\n\t}\r\n\tinput[type=file]{\r\n\t\tdisplay: none;\r\n\t}\r\n\tinput[name=userImg]{\r\n\t\tdisplay: none;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/admin/StaffManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"contanir\"}},[_c('el-breadcrumb',{staticStyle:{\"font-size\":\"20px\"},attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"Peanut后台\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"员工管理\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"push\":\"3\"}},[_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogForm =true , _vm.dialogTitle = '添加员工信息'}}},[_vm._v(\"添加员工\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('el-popconfirm',{attrs:{\"title\":\"是否批量操作？删除后不可恢复\"},on:{\"onConfirm\":_vm.batchDeleteStaff}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"批量删除\")])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectVal),callback:function ($$v) {_vm.selectVal=$$v},expression:\"selectVal\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容，默认为账号\",\"onkeyup\":\"value=value.replace(/[^\\\\w\\\\u4E00-\\\\u9FA5_]/g, '')\"},on:{\"blur\":function($event){return _vm.getSearchInfo(_vm.selectInfo)}},model:{value:(_vm.selectInfo),callback:function ($$v) {_vm.selectInfo=$$v},expression:\"selectInfo\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.getStaff(_vm.nowPage,_vm.selectVal,_vm.selectInfo)}}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[(_vm.selectInfo != '' || _vm.selectVal != '')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clearSearch}},[_vm._v(\"清空搜索\")]):_vm._e()],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"center\":\"\",\"visible\":_vm.addDialogForm},on:{\"close\":_vm.closeFun,\"update:visible\":function($event){_vm.addDialogForm=$event}}},[_c('el-form',{ref:\"MyForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.form,\"status-icon\":\"\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"员工账号\",\"prop\":\"account\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"onKeyUp\":\"value=value.replace(/[\\\\W]/g,'')\",\"required\":\"true\",\"placeholder\":\"6-10位英文+数字，英文开头\"},model:{value:(_vm.form.account),callback:function ($$v) {_vm.$set(_vm.form, \"account\", $$v)},expression:\"form.account\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"员工密码\",\"prop\":\"password\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"8-10位数字+大小写字母\",\"onKeyUp\":\"value=value.replace(/[\\\\W]/g,'')\",\"show-password\":\"\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"name\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"onkeyup\":\"value=value.replace(/[^\\\\w\\\\u4E00-\\\\u9FA5_]/g, '')\",\"placeholder\":\"1~6位中文、英文、数字包括下划线\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"phone\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"13,15,17,18开头，11位数字\",\"onkeyup\":\"this.value=this.value.replace(/\\\\D/g,'')\",\"maxlength\":\"11\",\"show-word-limit\":\"\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"员工职位\",\"prop\":\"checkRole\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择员工职位\"},on:{\"focus\":_vm.getRoleArr},model:{value:(_vm.form.checkRole),callback:function ($$v) {_vm.$set(_vm.form, \"checkRole\", $$v)},expression:\"form.checkRole\"}},[_vm._l((_vm.roleArr),function(item,index){return [(item.role_name == '超级管理员')?_c('el-option',{key:index,attrs:{\"disabled\":\"\",\"value\":item.role_name}}):_c('el-option',{key:index,attrs:{\"label\":item.role_name,\"value\":item.role_name}})]})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"sex\",\"label-width\":_vm.formLabelWidth}},[_c('el-radio',{attrs:{\"label\":\"男\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"女\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_vm._v(\"女\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogForm = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":true},on:{\"click\":function($event){return _vm.addStaff(_vm.form)}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"center\":\"\",\"visible\":_vm.editDialogForm},on:{\"close\":_vm.closeFun,\"update:visible\":function($event){_vm.editDialogForm=$event}}},[_c('el-form',{ref:\"MyForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.form,\"status-icon\":\"\",\"rules\":_vm.rules}},[_c('el-form-item',[(_vm.form.head_img)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.form.head_img}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"员工账号\",\"prop\":\"account\",\"label-width\":_vm.formLabelWidth}},[_c('span',[_vm._v(_vm._s(_vm.form.account))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"name\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"onkeyup\":\"value=value.replace(/[^\\\\w\\\\u4E00-\\\\u9FA5_]/g, '')\",\"placeholder\":\"1~6位中文、英文、数字包括下划线\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"phone\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"13,15,17,18开头，11位数字\",\"onkeyup\":\"this.value=this.value.replace(/\\\\D/g,'')\",\"maxlength\":\"11\",\"show-word-limit\":\"\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"员工职位\",\"prop\":\"role_name\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择员工职位\"},on:{\"focus\":_vm.getRoleArr},model:{value:(_vm.form.role_name),callback:function ($$v) {_vm.$set(_vm.form, \"role_name\", $$v)},expression:\"form.role_name\"}},[_vm._l((_vm.roleArr),function(item,index){return [(item.role_name == '超级管理员')?_c('el-option',{key:index,attrs:{\"disabled\":\"\",\"value\":item.role_name}}):_c('el-option',{key:index,attrs:{\"label\":item.role_name,\"value\":item.role_name}})]})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"sex\",\"label-width\":_vm.formLabelWidth}},[_c('el-radio',{attrs:{\"label\":\"男\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"女\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_vm._v(\"女\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogForm = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":true},on:{\"click\":function($event){return _vm.enterEdit(_vm.form)}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\",\"border-radius\":\"10px\"},attrs:{\"header-cell-style\":{background:'skyblue',color:'white',fontSize:'18px'},\"highlight-current-row\":\"\",\"border\":\"\",\"data\":_vm.staffArr.slice((_vm.nowPage - 1) * _vm.pageSize,_vm.nowPage*_vm.pageSize),\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"id\",\"sortable\":\"\",\"label\":\"ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"账号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.account))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"昵称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"头像\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"80px\",\"border-radius\":\"50%\"},attrs:{\"src\":scope.row.head_img}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"手机号\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.phone))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"职位\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.role_name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"性别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.sex))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state == 1)?_c('span',[_vm._v(\"解锁\")]):(scope.row.state == 0)?_c('span',[_vm._v(\"锁定\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"240px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return (scope.row.role_name != '超级管理员')?[(scope.row.state == 1)?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"点击锁定\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-lock\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.editState(scope.row.id,scope.row)}}})],1):(scope.row.state == 0)?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"点击解锁\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-unlock\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.editState(scope.row.id,scope.row)}}})],1):_vm._e(),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"点击修改当前员工信息\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.editStaff(scope.row)}}})],1),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"点击删除当前员工\",\"placement\":\"top\"}},[_c('el-popconfirm',{attrs:{\"title\":\"确认删除该用户？\",\"icon\":\"el-icon-info\",\"iconColor\":\"red\"},on:{\"onConfirm\":function($event){return _vm.delStaff(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},slot:\"reference\"})],1)],1),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"点击重置密码\",\"placement\":\"top\"}},[_c('el-popconfirm',{attrs:{\"title\":\"是否重置密码？\"},on:{\"onConfirm\":function($event){return _vm.resetPsw(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"icon\":\"el-icon-refresh\",\"circle\":\"\"},slot:\"reference\"})],1)],1)]:undefined}}],null,true)})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"text-align\":\"center\"},attrs:{\"background\":\"\",\"current-page\":_vm.nowPage,\"page-sizes\":[5, 10, 15, 100],\"page-size\":_vm.pageSize,\"layout\":\"total, prev, sizes ,pager, next, jumper\",\"total\":_vm.staffArr.length},on:{\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f4520e7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/StaffManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f4520e7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./StaffManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StaffManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StaffManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f4520e7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./StaffManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4f4520e7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/StaffManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}